#!/usr/bin/env swift

// morse swift script

// The MIT License (MIT)
// Copyright (c) 2015 John Pavley

// TODO:
// - Add support for morse to english transcoding
// - Add more morse code (numbers, punctuation, prosigns, extentions)
// - Add switch for help, version, verbose
// - Add sounds and voice!

import Foundation

let count = Process.arguments.count
//println(count)

let  args = Process.arguments[1..<count]
//println(args)

var morseDict: [Character: String] = ["A": ".-",
                                      "B": "-...",
                                      "C": "-.-.",
                                      "D": "-..",
                                      "E": ".",
                                      "F": "..-.",
                                      "G": "--.",
                                      "H": "....",
                                      "I": "..",
                                      "J": ".---",
                                      "K": "-.-",
                                      "L": ".-..",
                                      "M": "--",
                                      "N": "-.",
                                      "O": "---",
                                      "P": ".--.",
                                      "Q": "--.-",
                                      "R": ".-.",
                                      "S": "...",
                                      "T": "-",
                                      "U": "..-",
                                      "V": "...-",
                                      "W": ".--",
                                      "X": "-..-",
                                      "Y": "-.--",
                                      "Z": "--.-"]

if args.isEmpty {
  // if there are no args them output the morse dictionary
  let sortedDict = sorted(morseDict) {$0.0 < $1.0}
  for (letter, code) in sortedDict {
    println("\(letter) \(code)")
  }
} else {
  // try to translate english letters into morse code
  for argument in args {
    //print(argument)
    let normArgument = argument.uppercaseString
    for character in normArgument {
      if let letter = morseDict[character] {
        print(letter)
        print(" ") // space between morse letters
      }
    }
    print("/") // slash between morse words
  }
  print("\n")
}
